<!DOCTYPE html><html lang="en" class="__className_fb8f2c"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/028c0d39d2e8f589-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/5b01f339abf2f1a5.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/4af8aa2f5e57da54.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/459cf66e253ff2b9.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/c88e3d6e7d0028ec.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-bcdad6f131226a8e.js"/><script src="/_next/static/chunks/4bd1b696-27e8e556f352de3a.js" async=""></script><script src="/_next/static/chunks/684-da006124875a8e81.js" async=""></script><script src="/_next/static/chunks/main-app-851e5353c65ba553.js" async=""></script><script src="/_next/static/chunks/874-c28bc0b464981966.js" async=""></script><script src="/_next/static/chunks/74-66c07cbbf52c5549.js" async=""></script><script src="/_next/static/chunks/app/layout-329a9b90f0a7c81a.js" async=""></script><script src="/_next/static/chunks/app/blog/page-f7c4f85d96ea45d0.js" async=""></script><meta name="next-size-adjust" content=""/><title>Mikey Fennelly | Trainee Software Engineer</title><meta name="description" content="I am currently studying Immersive Software Engineering [ISE] at the University of Limerick. I am a passionate technologist with a keen interest in Software Engineering, Artificial Intelligence and video creation and graphics."/><link rel="icon" href="/profile-photo.png"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><nav id="parent-nav" class=""><div class="mikey-logo"><a href="/"><svg width="33.6" height="20" viewBox="0 0 152 90" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.624001 90V27.408H10.48V35.216H12.272C13.4667 32.9973 15.4293 30.9493 18.16 29.072C20.8907 27.1947 24.7307 26.256 29.68 26.256C34.544 26.256 38.4693 27.3227 41.456 29.456C44.528 31.5893 46.7467 34.192 48.112 37.264H49.904C51.3547 34.192 53.5307 31.5893 56.432 29.456C59.4187 27.3227 63.5573 26.256 68.848 26.256C73.0293 26.256 76.6987 27.1093 79.856 28.816C83.0133 30.5227 85.488 32.9973 87.28 36.24C89.1573 39.3973 90.096 43.1947 90.096 47.632V90H79.984V48.528C79.984 44.3467 78.7467 41.0613 76.272 38.672C73.8827 36.1973 70.512 34.96 66.16 34.96C61.552 34.96 57.7547 36.4533 54.768 39.44C51.8667 42.4267 50.416 46.736 50.416 52.368V90H40.304V48.528C40.304 44.3467 39.0667 41.0613 36.592 38.672C34.2027 36.1973 30.832 34.96 26.48 34.96C21.872 34.96 18.0747 36.4533 15.088 39.44C12.1867 42.4267 10.736 46.736 10.736 52.368V90H0.624001ZM121.287 90V36.24H102.087V27.408H121.287V11.408C121.287 7.99466 122.226 5.30666 124.103 3.34399C126.066 1.38133 128.839 0.399994 132.423 0.399994H148.167V9.104H135.239C132.679 9.104 131.399 10.384 131.399 12.944V27.408H151.111V36.24H131.399V90H121.287Z" fill="black"></path></svg></a></div><div id="mobile-slideout"><div id="toggle-button"><div id="menu-container"><span class="line " id="top-line"></span><span class="line " id="bottom-line"></span></div></div><div class="slideout-menu " id="nav-slideout"><a class="nav-slideout-link" href="/">Home</a><a class="nav-slideout-link" href="/product">Product Mockups</a><a class="nav-slideout-link" href="/linux-kernel-projects">Linux Kernel Projects</a><a class="nav-slideout-link" href="/other-software-projects">Other Software Projects</a><a class="nav-slideout-link" href="/content-creation">Content Creation</a><a class="nav-slideout-link" href="/about-me">About Me</a><a class="nav-slideout-link" href="/bookshelf">Bookshelf</a></div></div><div id="navbar-center"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" data-slot="navigation-menu" data-viewport="false" class="group/navigation-menu relative flex max-w-max flex-1 items-center justify-center no-underline"><div style="position:relative"><ul data-orientation="horizontal" data-slot="navigation-menu-list" class="group flex flex-1 list-none items-center justify-center gap-1 flex-wrap" dir="ltr"><li data-slot="navigation-menu-item" class="relative"><a data-slot="navigation-menu-link" class="data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground [&amp;_svg:not([class*=&#x27;text-&#x27;])]:text-muted-foreground flex-col gap-1 p-2 [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 group inline-flex h-9 w-max items-center justify-center rounded-md bg-transparent px-4 py-2 text-sm font-medium hover:bg-transparent hover:text-accent-foreground focus:bg-transparent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-transparent data-[state=open]:text-accent-foreground focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1" data-radix-collection-item="" href="/">Home</a></li><li data-slot="navigation-menu-item" class="relative"><a data-slot="navigation-menu-link" class="data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground [&amp;_svg:not([class*=&#x27;text-&#x27;])]:text-muted-foreground flex-col gap-1 p-2 [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 group inline-flex h-9 w-max items-center justify-center rounded-md bg-transparent px-4 py-2 text-sm font-medium hover:bg-transparent hover:text-accent-foreground focus:bg-transparent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-transparent data-[state=open]:text-accent-foreground focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1" data-radix-collection-item="" href="/about-me">About Me</a></li><li data-slot="navigation-menu-item" class="relative"><button id="radix-«Rrb»-trigger-radix-«Rrrb»" data-state="closed" aria-expanded="false" aria-controls="radix-«Rrb»-content-radix-«Rrrb»" data-slot="navigation-menu-trigger" class="group inline-flex h-9 w-max items-center justify-center rounded-md bg-transparent px-4 py-2 text-sm font-medium hover:bg-transparent hover:text-accent-foreground focus:bg-transparent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-transparent data-[state=open]:text-accent-foreground focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 group" data-radix-collection-item="">Projects<!-- --> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button></li><li data-slot="navigation-menu-item" class="relative"><a data-slot="navigation-menu-link" class="data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground [&amp;_svg:not([class*=&#x27;text-&#x27;])]:text-muted-foreground flex-col gap-1 p-2 [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 group inline-flex h-9 w-max items-center justify-center rounded-md bg-transparent px-4 py-2 text-sm font-medium hover:bg-transparent hover:text-accent-foreground focus:bg-transparent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-transparent data-[state=open]:text-accent-foreground focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1" data-radix-collection-item="" href="/blog">Blog</a></li><li data-slot="navigation-menu-item" class="relative"><a data-slot="navigation-menu-link" class="data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground [&amp;_svg:not([class*=&#x27;text-&#x27;])]:text-muted-foreground flex-col gap-1 p-2 [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 group inline-flex h-9 w-max items-center justify-center rounded-md bg-transparent px-4 py-2 text-sm font-medium hover:bg-transparent hover:text-accent-foreground focus:bg-transparent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:bg-transparent data-[state=open]:text-accent-foreground focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1" data-radix-collection-item="" href="/bookshelf">Bookshelf</a></li></ul></div></nav></div></nav><article class="section-padding large-padding-y container mx-auto min-h-screen"><div class="max-w-4xl mx-auto bg-white p-8 md:p-16 shadow-sm"><header class="mb-10 pb-10 border-b border-gray-200"><h1 class="text-4xl md:text-5xl mb-4 tracking-tight">Intro to Container internals in Linux</h1><div class="text-gray-500 flex gap-2"><span>October 14, 2025</span><span>•</span><span>Mikey Fennelly</span></div></header><div class="prose prose-lg max-w-none prose-headings:font-medium prose-h1:text-3xl prose-h2:text-2xl prose-a:text-blue-600 hover:prose-a:underline"><p>No matter what field of Software Engineering you work in, it&#x27;s highly likely that you&#x27;ve heard of the buzz words &quot;Containers&quot; and &quot;Cloud Native&quot;. I too had heard them a lot, so made it my mission to get down and dirty to understand the engineering behind these buzz words. In this article I am going to explore some of the topics that I picked up on my journey in learning about containers and cloud native. Hopefully, they can help some others demistify these buzz words too!</p>
<p>Grab your popcorn - and preferably some flavor of Linux too.</p>
<h2>&quot;Containers are lightweight virtual machines&quot;... or are they?</h2>
<p>If you have explored this topic before, it is likely that you have encountered statements such as &quot;containers are lightweight virtual machines&quot;. This isn&#x27;t necessarily a bad mental model for containers, but it can be misleading. Containers are a form of virtualisation (specifically OS level virtualisation) and are a way to organise software components so that they can&#x27;t see out of their little world. This mental model is a simple way of thinking about containers, but it isn&#x27;t accurate. The most misleading suggestion of this statement is that containers are one single unit of something. Saying that a container is a lightweight VM is actually quite off the mark, because the truth is that a container doesn&#x27;t have any weight (so it can&#x27;t be considered &quot;lightweight&quot;), and a container isn&#x27;t a virtual machine! So what is a container?</p>
<p>What we refer to as a container is actually a combination of different operating system features that come together to isolate a process running on an OS. That&#x27;s a container is; an isolated process or a group of processes running on a host kernel. The exact implementation can vary from Linux, to Windows, to Solaris, to z/OS (and so on..), but the general concepts remain the same across the board.</p>
<h2>Dividing the container</h2>
<p>As mentioned before, a container isn&#x27;t one single indivisible and tangible unit. A container is rather a process or group of processes that is subject to a menu of different attributes at once. These attributes have a limiting effect on the process in the following ways:</p>
<ol>
<li>What the process/processes can see (parts of the filesystem, other processes).</li>
<li>The resources available to that process (the devices they can access, memory/CPU/network usage etc.).</li>
<li>What the process/processes can do (what syscalls they can make).</li>
<li>What the process/processes has the potential of doing in the future (what capabilities their child processes can inherit).</li>
</ol>
<p>Linux makes all of this possible through the following kernel features:</p>
<ol>
<li>Namespaces - of which there are 7. These can be thought of as categorized silos, which define information the kernel will give a process about the wider system.</li>
<li>cgroups (control groups). These can be thought of as a whole cockpit of nobs and dials that can be used to granularly control the resources (of all kinds) that are available to processes in the cgroup.</li>
<li>Security features - such as linux capabilities, seccomp filters &amp; linux security modules like SELinux (a quite advanced module, with high detail - usually on RHEL &amp; related distros) and AppArmor (simpler in comparison to RHEL, more common on Debian related distros).</li>
<li>chroot jails</li>
<li>Special filesystem types - the most common being (OverlayFS, AUFS and FUSE).</li>
</ol>
<p>These low level concepts underpin the large and complex world of cloud native tools, from Kubernetes to Docker and all of your favorite cloud services. They are continuations on these primitives.</p>
<h2>Creating a bite-size container - from scratch!</h2>
<p>If you are running Linux (and have Golang installed), you can follow the Golang code below to create a dummy container using Linux namespaces and the chroot syscall.</p>
<pre><code class="language-go">package main

import (
	&quot;os&quot;
	&quot;os/exec&quot;
	&quot;syscall&quot;
)

func main() {
	args := os.Args
	if len(args) &lt; 2 {
		println(&quot;Usage: ./program [create|chroot]&quot;)
		return
	}

	switch args[1] {
	case &quot;create&quot;:
		create()
	case &quot;chroot&quot;:
		startContainer(&quot;~/rootfs&quot;)
	default:
		println(&quot;Unknown command:&quot;, args[1])
	}
}

func create() {
	println(&quot;Executing the create step&quot;)
	commandToReinvokeThisProcess := exec.Command(&quot;/proc/self/exe&quot;, &quot;chroot&quot;)
	commandToReinvokeThisProcess.SysProcAttr = &amp;syscall.SysProcAttr{
		Cloneflags: syscall.CLONE_NEWUTS |
			syscall.CLONE_NEWPID |
			syscall.CLONE_NEWNS |
			syscall.CLONE_NEWNET |
			syscall.CLONE_NEWIPC,
	}

	commandToReinvokeThisProcess.Stdin = os.Stdin
	commandToReinvokeThisProcess.Stdout = os.Stdout
	commandToReinvokeThisProcess.Stderr = os.Stderr

	commandToReinvokeThisProcess.Run()
}

func startContainer(rootDirName string) {
	// copying bash into our pseudo-container
	_ = os.Mkdir(rootDirName, 0755)

	syscall.Chroot(rootDirName)
	syscall.Chdir(&quot;/&quot;)
	syscall.Sethostname([]byte(&quot;dummy-container&quot;))

	println(&quot;Now inside new root! Spawning bash...&quot;)

	cmd := exec.Command(&quot;/bin/sh&quot;)
	cmd.Stdin = os.Stdin
	cmd.Stdout = os.Stdout
	cmd.Stderr = os.Stderr
	cmd.Run()
} 
</code></pre>
<ol>
<li><strong>Download an Alpine filesystem:</strong> Before you try running the program however, you must download a filesystem (I recommend a light form of alpine linux) which you can use to be the filesystem of your dummy container. You can download your filesystem from the Alpine downloads page: https://alpinelinux.org/downloads/</li>
<li><strong>Untar the download:</strong> Move the contents (still in one containing directory named &#x27;rootfs&#x27;) to the ~ directory.</li>
<li><strong>Traverse to the directory:</strong> Go to the directory where you put your Go code (in the main.go file).</li>
<li><strong>Start the mini container:</strong> You can start the mini container with the command:</li>
</ol>
<pre><code class="language-bash">sudo go run main.go create
</code></pre>
<h3>Here is what you did:</h3>
<ol>
<li><strong>Re-invoked the program:</strong> Created a new process by using the <code>exec</code> syscall on the current program&#x27;s binary.</li>
<li><strong>Applied Namespace flags:</strong> Implicitly (via the Go standard library) set the flags on that call to place the resulting process in new namespaces.</li>
<li><strong>Triggered the Container start:</strong> Executed the syscall, reinvoking the command and directing control flow to the <code>startContainer</code> function.</li>
<li><strong>Changed Root Directory:</strong> Executed the <code>chroot</code> syscall, changing the process&#x27;s perception of the filesystem&#x27;s root location.</li>
<li><strong>Navigated to New Root:</strong> Moved into the new root directory.</li>
<li><strong>Started a Shell:</strong> Executed a new shell within the container, spawning a new process that inherits namespaces from the parent process.</li>
</ol></div></div></article><footer class="large-separator medium-bottom-separator medium-padding-x"><div class="footer-main"><h1>Let&#x27;s Work Together</h1><h3 id="email-address" class="__className_f910ec" style="font-weight:300">mikeyp.fennelly@gmail.com</h3></div><span class="small-padding-bottom"><a target="_blank" class="link-text-separation" href="https://www.linkedin.com/in/mikeyfennelly/">LinkedIn</a> <a target="_blank" class="link-text-separation" href="https://github.com/mikeyfennelly1">GitHub</a></span><div class="medium-separator light-border-top"><p class="small-separator">An eefenn website.</p></div></footer><script src="/_next/static/chunks/webpack-bcdad6f131226a8e.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8110,[\"874\",\"static/chunks/874-c28bc0b464981966.js\",\"74\",\"static/chunks/74-66c07cbbf52c5549.js\",\"177\",\"static/chunks/app/layout-329a9b90f0a7c81a.js\"],\"default\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n5:I[6874,[\"874\",\"static/chunks/874-c28bc0b464981966.js\",\"831\",\"static/chunks/app/blog/page-f7c4f85d96ea45d0.js\"],\"\"]\n7:I[9665,[],\"OutletBoundary\"]\na:I[9665,[],\"ViewportBoundary\"]\nc:I[9665,[],\"MetadataBoundary\"]\ne:I[6614,[],\"\"]\n:HL[\"/_next/static/media/028c0d39d2e8f589-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/5b01f339abf2f1a5.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/4af8aa2f5e57da54.css\",\"style\"]\n:HL[\"/_next/static/css/459cf66e253ff2b9.css\",\"style\"]\n:HL[\"/_next/static/css/c88e3d6e7d0028ec.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"dEsaNzaTVBJwoRm5tLeTG\",\"p\":\"\",\"c\":[\"\",\"blog\",\"intro-to-container-internals-in-linux\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"intro-to-container-internals-in-linux\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/4af8aa2f5e57da54.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/459cf66e253ff2b9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c88e3d6e7d0028ec.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__className_fb8f2c\",\"children\":[\"$\",\"body\",null,{\"children\":[[\"$\",\"$L2\",null,{\"links\":[{\"text\":\"Home\",\"href\":\"/\"},{\"text\":\"Product Mockups\",\"href\":\"/product\"},{\"text\":\"Linux Kernel Projects\",\"href\":\"/linux-kernel-projects\"},{\"text\":\"Other Software Projects\",\"href\":\"/other-software-projects\"},{\"text\":\"Content Creation\",\"href\":\"/content-creation\"},{\"text\":\"About Me\",\"href\":\"/about-me\"},{\"text\":\"Bookshelf\",\"href\":\"/bookshelf\"}]}],[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"footer\",null,{\"className\":\"large-separator medium-bottom-separator medium-padding-x\",\"children\":[[\"$\",\"div\",null,{\"className\":\"footer-main\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"Let's Work Together\"}],[\"$\",\"h3\",null,{\"id\":\"email-address\",\"className\":\"__className_f910ec\",\"style\":{\"fontWeight\":300},\"children\":\"mikeyp.fennelly@gmail.com\"}]]}],[\"$\",\"span\",null,{\"className\":\"small-padding-bottom\",\"children\":[[\"$\",\"$L5\",null,{\"href\":\"https://www.linkedin.com/in/mikeyfennelly/\",\"target\":\"_blank\",\"className\":\"link-text-separation\",\"children\":\"LinkedIn\"}],\" \",[\"$\",\"$L5\",null,{\"href\":\"https://github.com/mikeyfennelly1\",\"target\":\"_blank\",\"className\":\"link-text-separation\",\"children\":\"GitHub\"}]]}],[\"$\",\"div\",null,{\"className\":\"medium-separator light-border-top\",\"children\":[\"$\",\"p\",null,{\"className\":\"small-separator\",\"children\":\"An eefenn website.\"}]}]]}]]}]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"intro-to-container-internals-in-linux\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",\"$undefined\",null,[\"$\",\"$L7\",null,{\"children\":[\"$L8\",\"$L9\",null]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"-vUlSeyoHxbyn3_mPmJfh\",{\"children\":[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:T4bf,package main\n\nimport (\n\t\"os\"\n\t\"os/exec\"\n\t\"syscall\"\n)\n\nfunc main() {\n\targs := os.Args\n\tif len(args) \u003c 2 {\n\t\tprintln(\"Usage: ./program [create|chroot]\")\n\t\treturn\n\t}\n\n\tswitch args[1] {\n\tcase \"create\":\n\t\tcreate()\n\tcase \"chroot\":\n\t\tstartContainer(\"~/rootfs\")\n\tdefault:\n\t\tprintln(\"Unknown command:\", args[1])\n\t}\n}\n\nfunc create() {\n\tprintln(\"Executing the create step\")\n\tcommandToReinvokeThisProcess := exec.Command(\"/proc/self/exe\", \"chroot\")\n\tcommandToReinvokeThisProcess.SysProcAttr = \u0026syscall.SysProcAttr{\n\t\tCloneflags: syscall.CLONE_NEWUTS |\n\t\t\tsyscall.CLONE_NEWPID |\n\t\t\tsyscall.CLONE_NEWNS |\n\t\t\tsyscall.CLONE_NEWNET |\n\t\t\tsyscall.CLONE_NEWIPC,\n\t}\n\n\tcommandToReinvokeThisProcess.Stdin = os.Stdin\n\tcommandToReinvokeThisProcess.Stdout = os.Stdout\n\tcommandToReinvokeThisProcess.Stderr = os.Stderr\n\n\tcommandToReinvokeThisProcess.Run()\n}\n\nfunc startContainer(rootDirName string) {\n\t// copying bash into our pseudo-container\n\t_ = os.Mkdir(rootDirName, 0755)\n\n\tsyscall.Chroot(rootDirName)\n\tsyscall.Chdir(\"/\")\n\tsyscall.Sethostname([]byte(\"dummy-container\"))\n\n\tprintln(\"Now inside new root! Spawning bash...\")\n\n\tcmd := exec.Command(\"/bin/sh\")\n\tcmd.Stdin = os.Stdin\n\tcmd.Stdout = os.Stdout\n\tcmd.Stderr = os.Stderr\n\tcmd.Run()\n} \n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"article\",null,{\"className\":\"section-padding large-padding-y container mx-auto min-h-screen\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-4xl mx-auto bg-white p-8 md:p-16 shadow-sm\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-10 pb-10 border-b border-gray-200\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-4xl md:text-5xl mb-4 tracking-tight\",\"children\":\"Intro to Container internals in Linux\"}],[\"$\",\"div\",null,{\"className\":\"text-gray-500 flex gap-2\",\"children\":[[\"$\",\"span\",null,{\"children\":\"October 14, 2025\"}],[\"$\",\"span\",null,{\"children\":\"•\"}],[\"$\",\"span\",null,{\"children\":\"Mikey Fennelly\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"prose prose-lg max-w-none prose-headings:font-medium prose-h1:text-3xl prose-h2:text-2xl prose-a:text-blue-600 hover:prose-a:underline\",\"children\":[[\"$\",\"p\",\"p-0\",{\"children\":\"No matter what field of Software Engineering you work in, it's highly likely that you've heard of the buzz words \\\"Containers\\\" and \\\"Cloud Native\\\". I too had heard them a lot, so made it my mission to get down and dirty to understand the engineering behind these buzz words. In this article I am going to explore some of the topics that I picked up on my journey in learning about containers and cloud native. Hopefully, they can help some others demistify these buzz words too!\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":\"Grab your popcorn - and preferably some flavor of Linux too.\"}],\"\\n\",[\"$\",\"h2\",\"h2-0\",{\"children\":\"\\\"Containers are lightweight virtual machines\\\"... or are they?\"}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":\"If you have explored this topic before, it is likely that you have encountered statements such as \\\"containers are lightweight virtual machines\\\". This isn't necessarily a bad mental model for containers, but it can be misleading. Containers are a form of virtualisation (specifically OS level virtualisation) and are a way to organise software components so that they can't see out of their little world. This mental model is a simple way of thinking about containers, but it isn't accurate. The most misleading suggestion of this statement is that containers are one single unit of something. Saying that a container is a lightweight VM is actually quite off the mark, because the truth is that a container doesn't have any weight (so it can't be considered \\\"lightweight\\\"), and a container isn't a virtual machine! So what is a container?\"}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":\"What we refer to as a container is actually a combination of different operating system features that come together to isolate a process running on an OS. That's a container is; an isolated process or a group of processes running on a host kernel. The exact implementation can vary from Linux, to Windows, to Solaris, to z/OS (and so on..), but the general concepts remain the same across the board.\"}],\"\\n\",[\"$\",\"h2\",\"h2-1\",{\"children\":\"Dividing the container\"}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":\"As mentioned before, a container isn't one single indivisible and tangible unit. A container is rather a process or group of processes that is subject to a menu of different attributes at once. These attributes have a limiting effect on the process in the following ways:\"}],\"\\n\",[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"What the process/processes can see (parts of the filesystem, other processes).\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"The resources available to that process (the devices they can access, memory/CPU/network usage etc.).\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"What the process/processes can do (what syscalls they can make).\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"What the process/processes has the potential of doing in the future (what capabilities their child processes can inherit).\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":\"Linux makes all of this possible through the following kernel features:\"}],\"\\n\",[\"$\",\"ol\",\"ol-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Namespaces - of which there are 7. These can be thought of as categorized silos, which define information the kernel will give a process about the wider system.\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"cgroups (control groups). These can be thought of as a whole cockpit of nobs and dials that can be used to granularly control the resources (of all kinds) that are available to processes in the cgroup.\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Security features - such as linux capabilities, seccomp filters \u0026 linux security modules like SELinux (a quite advanced module, with high detail - usually on RHEL \u0026 related distros) and AppArmor (simpler in comparison to RHEL, more common on Debian related distros).\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"chroot jails\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"Special filesystem types - the most common being (OverlayFS, AUFS and FUSE).\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":\"These low level concepts underpin the large and complex world of cloud native tools, from Kubernetes to Docker and all of your favorite cloud services. They are continuations on these primitives.\"}],\"\\n\",[\"$\",\"h2\",\"h2-2\",{\"children\":\"Creating a bite-size container - from scratch!\"}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":\"If you are running Linux (and have Golang installed), you can follow the Golang code below to create a dummy container using Linux namespaces and the chroot syscall.\"}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-go\",\"children\":\"$f\"}]}],\"\\n\",[\"$\",\"ol\",\"ol-2\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Download an Alpine filesystem:\"}],\" Before you try running the program however, you must download a filesystem (I recommend a light form of alpine linux) which you can use to be the filesystem of your dummy container. You can download your filesystem from the Alpine downloads page: https://alpinelinux.org/downloads/\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Untar the download:\"}],\" Move the contents (still in one containing directory named 'rootfs') to the ~ directory.\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Traverse to the directory:\"}],\" Go to the directory where you put your Go code (in the main.go file).\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Start the mini container:\"}],\" You can start the mini container with the command:\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-bash\",\"children\":\"sudo go run main.go create\\n\"}]}],\"\\n\",[\"$\",\"h3\",\"h3-0\",{\"children\":\"Here is what you did:\"}],\"\\n\",[\"$\",\"ol\",\"ol-3\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Re-invoked the program:\"}],\" Created a new process by using the \",[\"$\",\"code\",\"code-0\",{\"children\":\"exec\"}],\" syscall on the current program's binary.\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Applied Namespace flags:\"}],\" Implicitly (via the Go standard library) set the flags on that call to place the resulting process in new namespaces.\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Triggered the Container start:\"}],\" Executed the syscall, reinvoking the command and directing control flow to the \",[\"$\",\"code\",\"code-0\",{\"children\":\"startContainer\"}],\" function.\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Changed Root Directory:\"}],\" Executed the \",[\"$\",\"code\",\"code-0\",{\"children\":\"chroot\"}],\" syscall, changing the process's perception of the filesystem's root location.\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Navigated to New Root:\"}],\" Moved into the new root directory.\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Started a Shell:\"}],\" Executed a new shell within the container, spawning a new process that inherits namespaces from the parent process.\"]}],\"\\n\"]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,"9:null\nd:[[\"$\",\"title\",\"0\",{\"children\":\"Mikey Fennelly | Trainee Software Engineer\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"I am currently studying Immersive Software Engineering [ISE] at the University of Limerick. I am a passionate technologist with a keen interest in Software Engineering, Artificial Intelligence and video creation and graphics.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/profile-photo.png\"}]]\n"])</script></body></html>